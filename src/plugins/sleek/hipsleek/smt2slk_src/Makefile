# auto-generated by gt 

#OCAMLBUILD = ocamlbuild

NAME=smtlib

$(NAME): $(NAME)_util.cmx $(NAME)_syntax.cmx $(NAME)_parse.cmx $(NAME)_lex.cmx $(NAME)_pp.cmx $(NAME)_translate.cmx $(NAME)_eq.cmx $(NAME)_main.cmx
	ocamlopt -o smt2slk $(NAME)_util.cmx $(NAME)_syntax.cmx $(NAME)_parse.cmx $(NAME)_lex.cmx $(NAME)_pp.cmx $(NAME)_translate.cmx $(NAME)_main.cmx

$(NAME)_main.cmx: $(NAME)_main.ml $(NAME)_parse.cmx $(NAME)_lex.cmx
	ocamlopt -c -annot $(NAME)_main.ml

$(NAME)_syntax.cmx: $(NAME)_syntax.ml $(NAME)_util.cmx
	ocamlopt -c -annot $(NAME)_syntax.ml

$(NAME)_pp.cmx: $(NAME)_pp.ml $(NAME)_syntax.cmx
	ocamlopt -c -annot $(NAME)_pp.ml

$(NAME)_translate.cmx: $(NAME)_translate.ml $(NAME)_syntax.cmx
	ocamlopt -c -annot $(NAME)_translate.ml

$(NAME)_eq.cmx: $(NAME)_eq.ml $(NAME)_syntax.cmx
	ocamlopt -c -annot $(NAME)_eq.ml

$(NAME)_util.cmx: $(NAME)_util.ml
	ocamlopt -c -annot $(NAME)_util.ml

$(NAME)_lex.cmx: $(NAME)_lex.ml
	ocamlopt -c -annot $(NAME)_lex.ml

$(NAME)_parse.cmx: $(NAME)_parse.ml $(NAME)_parse.cmi
	ocamlopt -c -annot $(NAME)_parse.ml

$(NAME)_parse.cmi: $(NAME)_parse.mli
	ocamlopt -c $(NAME)_parse.mli

$(NAME)_parse.mli $(NAME)_parse.ml: $(NAME)_parse.mly $(NAME)_syntax.cmx
	ocamlyacc -v $(NAME)_parse.mly

$(NAME)_lex.ml: $(NAME)_lex.mll $(NAME)_parse.cmi
	ocamllex $(NAME)_lex.mll


clean:
	rm -f $(NAME)_lex.ml $(NAME)_parse.mli $(NAME)_parse.ml *.cmo *.cmi *.output smt2slk *.cmx *.o *.annot

install:
	chmod uog+x trans2slk.plx
	chmod uog+x trans2smt.plx
	sudo cp smt2slk /usr/local/bin
	sudo cp ../sleek /usr/local/bin
	sudo cp trans2slk.plx /usr/local/bin
	sudo cp trans2smt.plx /usr/local/bin


